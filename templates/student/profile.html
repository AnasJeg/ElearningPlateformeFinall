{% extends 'base.html' %}

{% block title %}
    {{ title }} Elearning
{% endblock title %}

{% load static %}

{% block content %}
    {% if user.is_authenticated %}
        {% if messages %}
            {% for message in messages %}
                {% if message.tags == 'error' %}
                    <div class="alert alert-danger">
                        <i class="fas fa-exclamation-circle"></i>{{ message }}
                    </div>
                {% else %}
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle"></i>{{ message }}
                    </div>
                {% endif %}
            {% endfor %}
        {% endif %}

        <div class="container mt-5">
            <div class="row justify-content-center">
                <div class="col-12 col-md-8">
                    <div class="card shadow">
                        <div class="card-body">
                            <div class="row mb-3">
                                <div class="col">
                                    <h3 class="card-title"><i class="fas fa-lock"></i> Login Info</h3>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    
                                    <p><strong>Full Name: </strong>{{ user.get_full_name|title }}</p>
                                    <p><strong>Role: </strong>{{ user.get_user_role }}</p>
                                </div>
                                <div class="col-6">
                                    <p><strong>Email:</strong> {{ user.email }}</p>
                                    <p><strong>Tel No.:</strong> {{ user.phone }}</p>
                                    <p><strong>Address/city:</strong> {{ user.address }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-12 col-md-8 mx-auto">
                    <div class="card shadow">
                        <div class="card-body">
                            <div class="row mb-3">
                                <div class="col">
                                    <h3 class="card-title"><i class="fas fa-user"></i> Personal Info</h3>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <p><strong>First Name:</strong> {{ user.first_name|title }}</p>
                                    <p><strong>Last Name:</strong> {{ user.last_name|title }}</p>
                                    <p><strong>ID No.:</strong> {{ user.username }}</p>
                                </div>
                                {% if user.is_student %}
                                    <div class="col-6">
                                        <p><strong>School: </strong>EMSI</p>
                                        <p><strong>Level: </strong>{{ level.level }}</p>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-12 col-md-8 mx-auto">
                    <div class="card shadow">
                        <div class="card-body">
                            <div class="row mb-3">
                                <div class="col">
                                    <h3 class="card-title"><i class="fa fa-calendar-day"></i> Important Dates</h3>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <p><strong>Last login:</strong> {{ user.last_login }}</p>
                                    <p><strong>Academic Year:</strong> 2023</p>
                                    <p><strong>Registered Date:</strong> {{ user.date_joined|date }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock content %}
